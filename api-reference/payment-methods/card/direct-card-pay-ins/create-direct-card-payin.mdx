---
title: 'Create a Direct Card PayIn'  
api: 'POST /v2.01/{ClientId}/payins/card/direct'  
---

import CardInfoResponse from '/snippets/response-parameters/CardInfoResponse.mdx';
import PreferredCardNetworkResponse from '/snippets/response-parameters/PreferredCardNetworkResponse.mdx';
import RecurringPayinRegistrationIdResponse from '/snippets/response-parameters/RecurringPayinRegistrationIdResponse.mdx';
import Applied3DSVersionResponse from '/snippets/response-parameters/Applied3DSVersionResponse.mdx';
import Requested3DSVersionResponse from '/snippets/response-parameters/Requested3DSVersionResponse.mdx';
import Shipping2Response from '/snippets/response-parameters/Shipping2Response.mdx';
import Billing1Response from '/snippets/response-parameters/Billing1Response.mdx';
import IpAddressResponse from '/snippets/response-parameters/IpAddressResponse.mdx';
import BrowserInfoResponse from '/snippets/response-parameters/BrowserInfoResponse.mdx';
import StatementDescriptorResponse from '/snippets/response-parameters/StatementDescriptorResponse.mdx';
import SecurityInfoResponse from '/snippets/response-parameters/SecurityInfoResponse.mdx';
import Culture6Response from '/snippets/response-parameters/Culture6Response.mdx';
import SecureModeNeededResponse from '/snippets/response-parameters/SecureModeNeededResponse.mdx';
import SecureModeRedirectURLResponse from '/snippets/response-parameters/SecureModeRedirectURLResponse.mdx';
import SecureModeReturnURLResponse from '/snippets/response-parameters/SecureModeReturnURLResponse.mdx';
import CardId1Response from '/snippets/response-parameters/CardId1Response.mdx';
import SecureModeResponse from '/snippets/response-parameters/SecureModeResponse.mdx';
import ExecutionTypeResponse from '/snippets/response-parameters/ExecutionTypeResponse.mdx';
import PaymentType2Response from '/snippets/response-parameters/PaymentType2Response.mdx';
import DebitedWalletId1Response from '/snippets/response-parameters/DebitedWalletId1Response.mdx';
import CreditedWalletIdResponse from '/snippets/response-parameters/CreditedWalletIdResponse.mdx';
import NatureResponse from '/snippets/response-parameters/NatureResponse.mdx';
import TypeResponse from '/snippets/response-parameters/TypeResponse.mdx';
import ExecutionDateResponse from '/snippets/response-parameters/ExecutionDateResponse.mdx';
import ResultMessageResponse from '/snippets/response-parameters/ResultMessageResponse.mdx';
import ResultCodeResponse from '/snippets/response-parameters/ResultCodeResponse.mdx';
import Status2Response from '/snippets/response-parameters/Status2Response.mdx';
import Fees12Response from '/snippets/response-parameters/Fees12Response.mdx';
import CreditedFunds9Response from '/snippets/response-parameters/CreditedFunds9Response.mdx';
import DebitedFunds11Response from '/snippets/response-parameters/DebitedFunds11Response.mdx';
import CreditedUserIdResponse from '/snippets/response-parameters/CreditedUserIdResponse.mdx';
import AuthorIdResponse from '/snippets/response-parameters/AuthorIdResponse.mdx';
import CreationDateResponse from '/snippets/response-parameters/CreationDateResponse.mdx';
import TagResponse from '/snippets/response-parameters/TagResponse.mdx';
import IdResponse from '/snippets/response-parameters/IdResponse.mdx';
import ProfilingAttemptReference from '/snippets/body-parameters/ProfilingAttemptReference.mdx';
import PreferredCardNetwork from '/snippets/body-parameters/PreferredCardNetwork.mdx';
import Shipping2 from '/snippets/body-parameters/Shipping2.mdx';
import Billing2 from '/snippets/body-parameters/Billing2.mdx';
import IpAddress from '/snippets/body-parameters/IpAddress.mdx';
import BrowserInfo from '/snippets/body-parameters/BrowserInfo.mdx';
import StatementDescriptor from '/snippets/body-parameters/StatementDescriptor.mdx';
import Culture3 from '/snippets/body-parameters/Culture3.mdx';
import SecureModeReturnURL from '/snippets/body-parameters/SecureModeReturnURL.mdx';
import CardId from '/snippets/body-parameters/CardId.mdx';
import SecureMode from '/snippets/body-parameters/SecureMode.mdx';
import CreditedWalletId from '/snippets/body-parameters/CreditedWalletId.mdx';
import Fees9 from '/snippets/body-parameters/Fees9.mdx';
import DebitedFunds9 from '/snippets/body-parameters/DebitedFunds9.mdx';
import CreditedUserId from '/snippets/body-parameters/CreditedUserId.mdx';
import AuthorId from '/snippets/body-parameters/AuthorId.mdx';
import Tag from '/snippets/body-parameters/Tag.mdx';
  

### Body parameters  

<Tag />  

<AuthorId />  

<CreditedUserId />  

<DebitedFunds9 />  

<Fees9 />  

<CreditedWalletId />  

<SecureMode />  

<CardId />  

<SecureModeReturnURL />  

<Culture3 />  

<StatementDescriptor />  

<BrowserInfo />  

<IpAddress />  

<Billing2 />  

<Shipping2 />  

<PreferredCardNetwork />  

<ProfilingAttemptReference />  

### Responses  

<AccordionGroup><Accordion title="200 ">  

<IdResponse />  

<TagResponse />  

<CreationDateResponse />  

<AuthorIdResponse />  

<CreditedUserIdResponse />  

<DebitedFunds11Response />  

<CreditedFunds9Response />  

<Fees12Response />  

<Status2Response />  

<ResultCodeResponse />  

<ResultMessageResponse />  

<ExecutionDateResponse />  

<TypeResponse />  

<NatureResponse />  

<CreditedWalletIdResponse />  

<DebitedWalletId1Response />  

<PaymentType2Response />  

<ExecutionTypeResponse />  

<SecureModeResponse />  

<CardId1Response />  

<SecureModeReturnURLResponse />  

<SecureModeRedirectURLResponse />  

<SecureModeNeededResponse />  

<Culture6Response />  

<SecurityInfoResponse />  

<StatementDescriptorResponse />  

<BrowserInfoResponse />  

<IpAddressResponse />  

<Billing1Response />  

<Shipping2Response />  

<Requested3DSVersionResponse />  

<Applied3DSVersionResponse />  

<RecurringPayinRegistrationIdResponse />  

<PreferredCardNetworkResponse />  

<CardInfoResponse /></Accordion><Accordion title="400 DebitedFunds Currency must match card currency"></Accordion><Accordion title="400 DebitedFunds Currency must match credited wallet currency"></Accordion></AccordionGroup>  

<ResponseExample>  

```json 200   

{
    "Id": "209160523",
    "Tag": "Created using Mangopay API Postman Collection",
    "CreationDate": 1700210889,
    "AuthorId": "204069570",
    "CreditedUserId": "204069570",
    "DebitedFunds": {
        "Currency": "EUR",
        "Amount": 57842
    },
    "CreditedFunds": {
        "Currency": "EUR",
        "Amount": 48965
    },
    "Fees": {
        "Currency": "EUR",
        "Amount": 8877
    },
    "Status": "CREATED",
    "ResultCode": null,
    "ResultMessage": null,
    "ExecutionDate": null,
    "Type": "PAYIN",
    "Nature": "REGULAR",
    "CreditedWalletId": "204069727",
    "DebitedWalletId": null,
    "PaymentType": "CARD",
    "ExecutionType": "DIRECT",
    "SecureMode": "DEFAULT",
    "CardId": "209160226",
    "SecureModeReturnURL": "https://mangopay.com/docs/please-ignore?transactionId=209160523",
    "SecureModeRedirectURL": "https://api.sandbox.mangopay.com:443/Redirect/ACSWithValidation?token=39265d841d7044a98e44253fbda2870c&mgpsecureid=39265d841d7044a98e44253fbda2870c",
    "SecureModeNeeded": true,
    "Culture": "EN",
    "SecurityInfo": {
        "AVSResult": "NO_CHECK"
    },
    "StatementDescriptor": "Mangopay",
    "BrowserInfo": {
        "AcceptHeader": "text/html, application/xhtml+xml, application/xml;q=0.9, /;q=0.8",
        "JavaEnabled": true,
        "Language": "en",
        "ColorDepth": 4,
        "ScreenHeight": 1800,
        "ScreenWidth": 400,
        "TimeZoneOffset": 60,
        "UserAgent": "Mozilla/5.0 (iPhone; CPU iPhone OS 13_6_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148",
        "JavascriptEnabled": true
    },
    "IpAddress": "658e:1b88:7f7a:a60b:32af:0b7f:56e1:2e9a",
    "Billing": {
        "FirstName": "Alex",
        "LastName": "Smith",
        "Address": {
            "AddressLine1": "6 rue de la Cité",
            "AddressLine2": "Appartement 3",
            "City": "Paris",
            "Region": "Ile-de-France",
            "PostalCode": "75001",
            "Country": "FR"
        }
    },
    "Shipping": {
        "FirstName": "Alex",
        "LastName": "Smith",
        "Address": {
            "AddressLine1": "6 rue de la Cité",
            "AddressLine2": "Appartement 3",
            "City": "Paris",
            "Region": "Ile-de-France",
            "PostalCode": "75001",
            "Country": "FR"
        }
    },
    "Requested3DSVersion": null,
    "Applied3DSVersion": "V2_1",
    "RecurringPayinRegistrationId": null,
    "PreferredCardNetwork": null,
    "CardInfo": {
        "BIN": "497010",
        "IssuingBank": "LA BANQUE POSTALE",
        "IssuerCountryCode": "MA",
        "Type": "CREDIT",
        "Brand": "VISA",
        "SubType": null
    }
}  

 ```  

```json 400 DebitedFunds Currency must match card currency  

{
    "Message": "Error: multi-currency usage is not authorized",
    "Type": "currency_incompatibility",
    "Id": "e384d310-ab19-4455-bf27-f54822361bd3",
    "Date": 1700045351.0,
    "errors": {
        "currency": "The card's currency GBP and the debitedAmount's currency EUR must be the same"
    }
}  

 ```  

```json 400 DebitedFunds Currency must match credited wallet currency  

{
    "Message": "Error: multi-currency usage is not authorized",
    "Type": "currency_incompatibility",
    "Id": "1f29b2ff-cf01-4185-9cfd-c0545f6cbd0c",
    "Date": 1700044992.0,
    "errors": {
        "currency": "The Wallet's currency GBP and the DebitedFunds's currency EUR must be the same"
    }
}  

 ```  

</ResponseExample>  

<RequestExample>  
  
```json REST  

{
    "Tag": "Created using Mangopay API Postman Collection",
    "AuthorId": "204069570",
    "CreditedUserId": "204069570",
    "DebitedFunds": {
        "Currency": "EUR",
        "Amount": 57842
    },
    "Fees": {
        "Currency": "EUR",
        "Amount": 8877
    },
    "CreditedWalletId": "204069727",
    "SecureMode": "DEFAULT",
    "CardId": "209160226",
    "SecureModeReturnURL": "https://mangopay.com/docs/please-ignore",
    "StatementDescriptor": "Mangopay",
    "BrowserInfo": {
        "AcceptHeader": "text/html, application/xhtml+xml, application/xml;q=0.9, /;q=0.8",
        "JavaEnabled": true,
        "Language": "en",
        "ColorDepth": 4,
        "ScreenHeight": 1800,
        "ScreenWidth": 400,
        "TimeZoneOffset": 60,
        "UserAgent": "Mozilla/5.0 (iPhone; CPU iPhone OS 13_6_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148",
        "JavascriptEnabled": true
    },
    "IpAddress": "658e:1b88:7f7a:a60b:32af:0b7f:56e1:2e9a",
    "Billing": {
        "FirstName": "Alex",
        "LastName": "Smith",
        "Address": {
            "AddressLine1": "6 rue de la Cité",
            "AddressLine2": "Appartement 3",
            "City": "Paris",
            "Region": "Ile-de-France",
            "PostalCode": "75001",
            "Country": "FR"
        }
    },
    "Shipping": {
        "FirstName": "Alex",
        "LastName": "Smith",
        "Address": {
            "AddressLine1": "6 rue de la Cité",
            "AddressLine2": "Appartement 3",
            "City": "Paris",
            "Region": "Ile-de-France",
            "PostalCode": "75001",
            "Country": "FR"
        }
    }
}  
```  

  
```php PHP  

<?php 

require_once 'vendor/autoload.php';

use MangoPay\MangoPayApi;
use MangoPay\Libraries\ResponseException as MGPResponseException;
use MangoPay\Libraries\Exception as MGPException;

$api = new MangoPayApi();

$api->Config->ClientId = 'your-client-id';
$api->Config->ClientPassword = 'your-api-key';
$api->Config->TemporaryFolder = 'tmp/';

try {
    $payIn = new \MangoPay\PayIn();
    $payIn->Tag = "Created using Mangopay PHP SDK";
    $payIn->CreditedWalletId = "148968396";
    $payIn->PaymentType = "CARD";
    $payIn->AuthorId = "146476890";
    
    $payIn->DebitedFunds = new \MangoPay\Money();
    $payIn->DebitedFunds->Amount = 1000;
    $payIn->DebitedFunds->Currency = "EUR";
    
    $payIn->Fees = new \MangoPay\Money();
    $payIn->Fees->Amount = 10;
    $payIn->Fees->Currency = "EUR";
    
    $payIn->PaymentDetails = new \MangoPay\PayInPaymentDetailsCard();
    $payIn->PaymentDetails->CardId = "169687329";
    $payIn->PaymentDetails->StatementDescriptor = "Mangopay";
    $payIn->PaymentDetails->IpAddress = "2001:0620:0000:0000:0211:24FF:FE80:C12C";
    
    $payIn->PaymentDetails->BrowserInfo = new \MangoPay\BrowserInfo();
    $payIn->PaymentDetails->BrowserInfo->AcceptHeader = "text/html, application/xhtml+xml, application/xml;q=0.9, /;q=0.8";
    $payIn->PaymentDetails->BrowserInfo->JavaEnabled = true;
    $payIn->PaymentDetails->BrowserInfo->Language = "FR-FR";
    $payIn->PaymentDetails->BrowserInfo->ColorDepth = 4;
    $payIn->PaymentDetails->BrowserInfo->ScreenHeight = 1800;
    $payIn->PaymentDetails->BrowserInfo->ScreenWidth = 400;
    $payIn->PaymentDetails->BrowserInfo->TimeZoneOffset = 60;
    $payIn->PaymentDetails->BrowserInfo->UserAgent = "Mozilla/5.0 (iPhone; CPU iPhone OS 13_6_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148";
    $payIn->PaymentDetails->BrowserInfo->JavascriptEnabled = true;
    
    $payIn->ExecutionDetails = new \MangoPay\PayInExecutionDetailsDirect();
    $payIn->ExecutionDetails->SecureModeReturnURL = "https://mangopay.com/docs/please-ignore";
    $payIn->ExecutionDetails->Culture = 'FR';
    
    $response = $api->PayIns->Create($payIn);

    print_r($response);
} catch(MGPResponseException $e) {
    print_r($e);
} catch(MGPException $e) {
    print_r($e);
}  
```  

  
```javascript NodeJS  

const mangopayInstance = require('mangopay2-nodejs-sdk')
const mangopay = new mangopayInstance({
  clientId: 'your-client-id',
  clientApiKey: 'your-api-key',
})

let myDirectCardPayIn = {
  PaymentType: 'CARD',
  ExecutionType: 'DIRECT',
  AuthorId: '146476890',
  Tag: 'Created with Mangopay Node.js SDK',
  CreditedUserId: '146476890',
  DebitedFunds: {
    Currency: 'EUR',
    Amount: 1000,
  },
  Fees: {
    Currency: 'EUR',
    Amount: 100,
  },
  CreditedWalletId: '148968396',
  CardId: '169687329',
  CardType: 'CB_VISA_MASTERCARD',
  SecureMode: 'DEFAULT',
  SecureModeReturnURL: 'https://mangopay.com/docs/please-ignore',
  BrowserInfo: {
    AcceptHeader:
      'text/html, application/xhtml+xml, application/xml;q=0.9, /;q=0.8',
    JavaEnabled: true,
    Language: 'FR-FR',
    ColorDepth: 4,
    ScreenHeight: 1800,
    ScreenWidth: 400,
    TimeZoneOffset: 60,
    UserAgent:
      'Mozilla/5.0 (iPhone; CPU iPhone OS 13_6_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148',
    JavascriptEnabled: true,
  },
  IpAddress: '2d1b:f91a:075a:7fc8:0cb7:b471:cd55:017e',
  Billing: {
    FirstName: 'Alex',
    LastName: 'Smith',
    Address: {
      AddressLine1: 'Rue des plantes',
      AddressLine2: 'The Oasis',
      City: 'Paris',
      Region: 'IDF',
      PostalCode: '75000',
      Country: 'FR',
    },
  },
  Shipping: {
    FirstName: 'Alex',
    LastName: 'Smith',
    Address: {
      AddressLine1: 'Rue des plantes',
      AddressLine2: 'The Oasis',
      City: 'Paris',
      Region: 'IDF',
      PostalCode: '75000',
      Country: 'FR',
    },
  },
  StatementDescriptor: 'Nov2023',
}

const createDirectCardPayIn = async (payin) => {
  return await mangopay.PayIns.create(payin)
    .then((response) => {
      console.info(response)
      return response
    })
    .catch((err) => {
      console.log(err)
      return false
    })
}

createDirectCardPayIn(myDirectCardPayIn)  
```  

  
```ruby Ruby  

require 'mangopay'

MangoPay.configure do |client|
    client.preproduction = true
    client.client_id = 'your-client-id'
    client.client_apiKey = 'your-api-key'
    client.log_file = File.join(Dir.pwd, 'mangopay.log')
end

def createDirectCardPayIn(payInObject)
    begin
        response = MangoPay::PayIn::Card::Direct.create(payInObject)
        puts response
        return response
    rescue MangoPay::ResponseError => error
        puts "Failed to create pay-in: #{error.message}"
        puts "Error details: #{error.details}"
        return false
    end
end

myPayIn = {
  AuthorId: '192822811',
  Tag: 'Created with Mangopay Ruby SDK',
  CreditedUserId: '192822811',
  DebitedFunds: {
    Currency: 'EUR',
    Amount: 1200,
  },
  Fees: {
    Currency: 'EUR',
    Amount: 100,
  },
  CreditedWalletId: '192822814',
  CardId: '192822826',
  CardType: 'CB_VISA_MASTERCARD',
  SecureMode: 'DEFAULT',
  SecureModeReturnURL: 'https://mangopay.com/docs/please-ignore',
  BrowserInfo: {
    AcceptHeader:
      'text/html, application/xhtml+xml, application/xml;q=0.9, /;q=0.8',
    JavaEnabled: true,
    Language: 'FR-FR',
    ColorDepth: 4,
    ScreenHeight: 1800,
    ScreenWidth: 400,
    TimeZoneOffset: 60,
    UserAgent:
      'Mozilla/5.0 (iPhone; CPU iPhone OS 13_6_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148',
    JavascriptEnabled: true,
  },
  IpAddress: '2d1b:f91a:075a:7fc8:0cb7:b471:cd55:017e',
  Billing: {
    FirstName: 'Alex',
    LastName: 'Smith',
    Address: {
      AddressLine1: 'Rue des plantes',
      AddressLine2: 'The Oasis',
      City: 'Paris',
      Region: 'IDF',
      PostalCode: '75000',
      Country: 'FR',
    },
  },
  Shipping: {
    FirstName: 'Alex',
    LastName: 'Smith',
    Address: {
      AddressLine1: 'Rue des plantes',
      AddressLine2: 'The Oasis',
      City: 'Paris',
      Region: 'IDF',
      PostalCode: '75000',
      Country: 'FR',
    },
  },
  StatementDescriptor: 'Nov2023',
}

createDirectCardPayIn(myPayIn)  
```  

  
```python Python  

from pprint import pprint

import mangopay

mangopay.client_id='your-client-id'
mangopay.apikey='your-api-key'

from mangopay.api import APIRequest
handler = APIRequest(sandbox=True)

from mangopay.resources import NaturalUser, LegalUser, Wallet, Card, DirectPayIn
from mangopay.utils import Money, BrowserInfo

legal_user = LegalUser.get('211918806')
legal_user_wallet = Wallet.get('214564765')

natural_user = NaturalUser.get('213753890')
natural_user_card= Card.get('213944219')

direct_payin = DirectPayIn(
    author = natural_user,
    debited_funds = Money(amount=1000, currency='EUR'),
    fees = Money(amount=1, currency='EUR'),
    credited_wallet_id = legal_user_wallet.id,
    card_id = natural_user_card,
    secure_mode = 'DEFAULT',
    secure_mode_return_url = "https://mangopay.com/docs/please-ignore",
    tag = 'Created with Mangopay Python SDK',
    browser_info = BrowserInfo(
        user_agent = 'Mozilla/5.0 (iPhone; CPU iPhone OS 13_6_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148',
        screen_width = 375,
        screen_height = 667,
        color_depth = 32,
        language = 'EN',
        accept_header = 'application/json,text/javascript,*/*;q=0.01<',
        timezone_offset = '-120',
        java_enabled = True,
        javascript_enabled = True
    ),
    ip_address = '159.180.248.187',
)

create_direct_payin = direct_payin.save()

pprint(create_direct_payin)  
```  

  
</RequestExample>