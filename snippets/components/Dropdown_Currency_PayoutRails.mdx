export const Dropdown_Currency_PayoutRails = () => {
  const paymentData = {
    AED: {
      local: [],
      international: [{
        rail: "SWIFT",
        cutoffTime: "10:30",
        deliveryTime: "3-5 business days"
      }]
    },
    AUD: {
      local: [],
      international: [{
        rail: "SWIFT",
        cutoffTime: "11:00",
        deliveryTime: "3-5 business days"
      }]
    },
    CAD: {
      local: [{
        rail: "EFT",
        cutoffTime: "17:00",
        deliveryTime: "Same business day"
      }],
      international: [{
        rail: "SWIFT",
        cutoffTime: "12:00",
        deliveryTime: "3-5 business days"
      }]
    },
    CHF: {
      local: [{
        rail: "SIC",
        cutoffTime: "16:15",
        deliveryTime: "Same business day"
      }],
      international: [{
        rail: "SWIFT",
        cutoffTime: "12:30",
        deliveryTime: "3-5 business days"
      }]
    },
    CNH: {
      local: [],
      international: [{
        rail: "SWIFT",
        cutoffTime: "09:00",
        deliveryTime: "3-5 business days"
      }]
    },
    CZK: {
      local: [{
        rail: "Certis",
        cutoffTime: "09:00",
        deliveryTime: "Same business day"
      }],
      international: [{
        rail: "SWIFT",
        cutoffTime: "09:00",
        deliveryTime: "3-5 business days"
      }]
    },
    DKK: {
      local: [{
        rail: "Intradag",
        cutoffTime: "11:30",
        deliveryTime: "Same business day"
      }],
      international: [{
        rail: "SWIFT",
        cutoffTime: "08:00",
        deliveryTime: "3-5 business days"
      }]
    },
    EUR: {
      local: [{
        rail: "SCT",
        cutoffTime: "12:30",
        deliveryTime: "Same business day"
      }, {
        rail: "SCT Inst",
        cutoffTime: "Always open",
        deliveryTime: "Instant"
      }, {
        rail: "T2",
        cutoffTime: "16:15",
        deliveryTime: "Within 5 minutes"
      }],
      international: [{
        rail: "SWIFT",
        cutoffTime: "16:00",
        deliveryTime: "3-5 business days"
      }]
    },
    GBP: {
      local: [{
        rail: "FPS",
        cutoffTime: "Always open",
        deliveryTime: "Instant"
      }],
      international: [{
        rail: "SWIFT",
        cutoffTime: "17:45",
        deliveryTime: "3-5 business days"
      }]
    },
    HKD: {
      local: [],
      international: [{
        rail: "SWIFT",
        cutoffTime: "14:30",
        deliveryTime: "3-5 business days"
      }]
    },
    HUF: {
      local: [{
        rail: "Intergiro",
        cutoffTime: "13:15",
        deliveryTime: "Same business day"
      }],
      international: [{
        rail: "SWIFT",
        cutoffTime: "14:00",
        deliveryTime: "3-5 business days"
      }]
    },
    ILS: {
      local: [],
      international: [{
        rail: "SWIFT",
        cutoffTime: "12:00",
        deliveryTime: "3-5 business days"
      }]
    },
    JPY: {
      local: [],
      international: [{
        rail: "SWIFT",
        cutoffTime: "08:00",
        deliveryTime: "4-6 business days"
      }]
    },
    MXN: {
      local: [],
      international: [{
        rail: "SWIFT",
        cutoffTime: "16:30",
        deliveryTime: "3-5 business days"
      }]
    },
    NOK: {
      local: [{
        rail: "NICS",
        cutoffTime: "11:30",
        deliveryTime: "Same business day"
      }],
      international: [{
        rail: "SWIFT",
        cutoffTime: "08:00",
        deliveryTime: "3-5 business days"
      }]
    },
    NZD: {
      local: [],
      international: [{
        rail: "SWIFT",
        cutoffTime: "17:00",
        deliveryTime: "4-6 business days"
      }]
    },
    PLN: {
      local: [{
        rail: "Sorbnet",
        cutoffTime: "16:00",
        deliveryTime: "Same business day"
      }],
      international: [{
        rail: "SWIFT",
        cutoffTime: "11:00",
        deliveryTime: "3-5 business days"
      }]
    },
    RON: {
      local: [{
        rail: "ReGIS",
        cutoffTime: "12:15",
        deliveryTime: "Same business day"
      }],
      international: [{
        rail: "SWIFT",
        cutoffTime: "11:30",
        deliveryTime: "3-5 business days"
      }]
    },
    SAR: {
      local: [],
      international: [{
        rail: "SWIFT",
        cutoffTime: "08:00",
        deliveryTime: "3-5 business days"
      }]
    },
    SEK: {
      local: [{
        rail: "RIX-Inst",
        cutoffTime: "Always open",
        deliveryTime: "Instant"
      }],
      international: [{
        rail: "SWIFT",
        cutoffTime: "08:00",
        deliveryTime: "3-5 business days"
      }]
    },
    SGD: {
      local: [],
      international: [{
        rail: "SWIFT",
        cutoffTime: "18:30",
        deliveryTime: "4-6 business days"
      }]
    },
    TRY: {
      local: [],
      international: [{
        rail: "SWIFT",
        cutoffTime: "10:00",
        deliveryTime: "3-5 business days"
      }]
    },
    USD: {
      local: [{
        rail: "ACH",
        cutoffTime: "21:45",
        deliveryTime: "Same business day"
      }],
      international: [{
        rail: "SWIFT",
        cutoffTime: "18:30",
        deliveryTime: "3-5 business days"
      }]
    },
    ZAR: {
      local: [],
      international: [{
        rail: "SWIFT",
        cutoffTime: "09:30",
        deliveryTime: "3-5 business days"
      }]
    }
  };

  const currencyCodes = Object.keys(paymentData);

  const currencyOptionsForSelect = [
    { value: "", label: "All currencies" },
    ...currencyCodes.map(code => ({
      value: code,
      label: code,
    }))
  ];

  const allCurrencyDetails = currencyCodes.map(code => {
    const currencyData = paymentData[code];
    const combinedRoutes = [];
    (currencyData.local || []).forEach(route => {
      combinedRoutes.push({ ...route, type: "Domestic", originalType: "local" });
    });
    (currencyData.international || []).forEach(route => {
      combinedRoutes.push({ ...route, type: "Non-domestic", originalType: "international" });
    });
    return {
      value: code,
      label: code,
      routes: combinedRoutes
    };
  });

  const [selectedValue, setSelectedValue] = useState(currencyOptionsForSelect[0].value);

  const handleChange = event => {
    setSelectedValue(event.target.value);
  };

  const selectedCurrencyData = selectedValue ? allCurrencyDetails.find(opt => opt.value === selectedValue) : null;

  const hasAnyRoutesToDisplay = (selectedValue && selectedCurrencyData && selectedCurrencyData.routes && selectedCurrencyData.routes.length > 0) ||
    (!selectedValue && allCurrencyDetails.some(cd => cd.routes && cd.routes.length > 0));

  return (
    <div className="currency-dropdown-container w-full">
      <label htmlFor="currency-routes-list" className="currency-dropdown-label">
        Available payout routes by currency:
      </label>
      <select
        id="currency-routes-list"
        value={selectedValue}
        onChange={handleChange}
        className="currency-dropdown-select"
      >
        {currencyOptionsForSelect.map(option => (
          <option key={option.value} value={option.value}>
            {option.label}
          </option>
        ))}
      </select>

      <div className="currency-details-section mt-4">
        {hasAnyRoutesToDisplay ? (
          <div>
            <div className="grid grid-cols-5 gap-x-3 items-baseline font-semibold py-2 border-b-2 border-gray-300">
              <div className="px-3">Currency</div>
              <div className="px-3">Type</div>
              <div className="px-3">Name</div>
              <div className="px-3">Cutoff&nbsp;time&nbsp;(CET)</div>
              <div className="px-3">Delivery&nbsp;time&nbsp;(typical)</div>
            </div>

            {selectedValue && selectedCurrencyData ? (
              <div className="mt-3">
                {selectedCurrencyData.routes.length > 0 ? (
                  selectedCurrencyData.routes.map((route, index) => {
                    const isLastItem = index === selectedCurrencyData.routes.length - 1;
                    return (
                      <div
                        key={`${selectedCurrencyData.label}-${route.originalType}-${route.rail}-${index}`}
                        className={`
                          grid grid-cols-5 gap-x-3 items-baseline py-3
                          ${isLastItem ? 'border-b-2 border-gray-300' : 'border-b border-gray-200'}
                        `}
                      >
                        <div className="px-3">{selectedCurrencyData.label}</div>
                        <div className="px-3">{route.type}</div>
                        <div className="px-3">{route.rail}</div>
                        <div className="px-3">{route.cutoffTime}</div>
                        <div className="px-3">{route.deliveryTime}</div>
                      </div>
                    );
                  })
                ) : (
                  <p className="text-gray-500 italic py-3 text-center">
                    No specific routes listed for {selectedCurrencyData.label}.
                  </p>
                )}
              </div>
            ) : (
              <div className="mt-3">
                {allCurrencyDetails.map(currencyDetailItem => (
                  <div key={currencyDetailItem.label} className="mb-1">
                    {currencyDetailItem.routes.map((route, index) => {
                      const isLastInGroup = index === currencyDetailItem.routes.length - 1;
                      return (
                        <div
                          key={`${currencyDetailItem.label}-${route.originalType}-${route.rail}-${index}`}
                          className={`
                            grid grid-cols-5 gap-x-3 items-baseline py-3
                            ${isLastInGroup ? 'border-b-2 border-gray-300' : 'border-b border-gray-200'}
                          `}
                        >
                          <div className="px-3">{currencyDetailItem.label}</div>
                          <div className="px-3">{route.type}</div>
                          <div className="px-3">{route.rail}</div>
                          <div className="px-3">{route.cutoffTime}</div>
                          <div className="px-3">{route.deliveryTime}</div>
                        </div>
                      );
                    })}
                  </div>
                ))}
              </div>
            )}
          </div>
        ) : (
          <p>No currency data available.</p>
        )}
      </div>
    </div>
  );
};